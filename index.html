<!DOCTYPE html>
<!--
  Copyright 2010 Google Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)

  landslide modifications: Adam Zapletal (adamzap@gmail.com)
                           Nicolas Perriault (nperriault@gmail.com)
-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Storm &amp; RedStorm</title>
    <!-- Styles -->
    
    <link rel="stylesheet" media="print" href="file:///Library/Python/2.7/site-packages/landslide-1.1.1-py2.7.egg/landslide/themes/default/css/print.css">
    <link rel="stylesheet" media="screen, projection" href="file:///Library/Python/2.7/site-packages/landslide-1.1.1-py2.7.egg/landslide/themes/light/css/screen.css">
    
    
      
      <link rel="stylesheet" href="file:///Users/jason/dev/storm-talk/override.css">
      
    
    <!-- /Styles -->
    <!-- Javascripts -->
    
    <script type="text/javascript" src="file:///Library/Python/2.7/site-packages/landslide-1.1.1-py2.7.egg/landslide/themes/default/js/slides.js"></script>
    
    
    <!-- /Javascripts -->
</head>
<body>
  <div id="blank"></div>
  <div class="presentation">
    <div id="current_presenter_notes">
      <div id="presenter_note"></div>
    </div>
    <div class="slides">
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Storm &amp; RedStorm</h1></header>
            
            
            <section><h1>Distributed Realtime Computation in Ruby</h1>
<h1>Jason Morrison</h1>
<h1>December 11, 2012</h1>
<p><img alt="Storm" src="file:///Users/jason/dev/storm-talk/slides/../images/topology.png" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              1/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Data processing systems</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>design of data processing systems</li>
<li>interesting case: 1 processing machine is not sufficient</li>
<li>could be for many reasons: high ingest volume, expensive computation, or tight latency requirements</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              2/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>DFS + map-reduce</h1></header>
            
            
            <section><ul>
<li>Queries are functions over all data</li>
<li>Queries typically executed in batch mode, offline</li>
<li>Results are high-latency</li>
</ul>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>
<p>One popular approach for large-scale data processing systems is to dump the
  incoming data into a distributed filesystem like HDFS, run offline map-reduce
  queries over it, and place the results into a data store so your apps can read
  from it.</p>
</li>
<li>
<p>If you need to store all of your data and you need to execute queries which
  span large time-frames, or you don't know the queries up front, then batch
  mode is a great fit.</p>
</li>
</ul>
<p>However, there are plenty of use cases where these parameters don't quite fit.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              3/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Design considerations</h1></header>
            
            
            <section><ul>
<li>Value of low latency</li>
<li>Data retention needs<ul>
<li>Adhoc vs known queries</li>
<li>Timeframe of queries</li>
</ul>
</li>
</ul>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>Consider, when:</p>
<ul>
<li>low latency is valuable</li>
<li>you know queries ahead of time</li>
<li>query domain covers small time windows</li>
</ul>
<p>then a stream processing model can allow you to get at your answers in a much
  faster, and cheaper way.</p>
<ul>
<li>Instead of storing data and then executing batch queries over it, what if we
  persist the query and run the data through it?</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              4/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Queues &amp; workers</h1></header>
            
            
            <section><p>TODO remake image
<img alt="workers and queues" src="file:///Users/jason/dev/storm-talk/slides/../images/workers-queues.png" /></p>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>First, I want to examine a typical approach to assembling a realtime system:</li>
</ul>
<p>Hands up, ever written a system made of queues+workers to process incoming data?</p>
<ul>
<li>architecture here is<ul>
<li>an incoming stream of data, from a web frontend or work queue or subscription to streaming API</li>
<li>cluster of queues persisting that data as jobs</li>
<li>cluster of workers taking jobs off the queue, working them, maybe persisting out to some store,
  and then emitting their processing results forward into the next queue layer</li>
<li>then more workers, maybe more persistence</li>
</ul>
</li>
</ul>
<p>Then you'll know there are some challenges...</p>
<ul>
<li>data processing guarantees</li>
<li>fault tolerance</li>
<li>queues impose latency between layers<ul>
<li>with any reliability guarantees, they are complex moving parts</li>
<li>impose a 3rd party between worker layers, where message has to go to disk</li>
</ul>
</li>
<li>without another layer of abstraction, coding is tedius - spending your time thinking about where to write message to, where do I read messages from, how do I serialize messages, etc.</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              5/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Storm</h1></header>
            
            
            <section><p><img alt="storm on github" src="file:///Users/jason/dev/storm-talk/slides/../images/storm-github.png" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              6/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Storm</h1></header>
            
            
            <section><p><img alt="twitter analytics" src="file:///Users/jason/dev/storm-talk/slides/../images/twitter-analytics.png" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              7/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Design goals of Storm:</h1></header>
            
            
            <section><ul>
<li>Guaranteed data processing</li>
<li>Horizontal scalability</li>
<li>Fault tolerance</li>
<li>No intermediate message brokers</li>
<li>Easy to use</li>
</ul>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>Guaranteed data processing: When errors happen, guarantee that data flowing into your cluster will be processed at least once, or exactly once, as you choose</li>
<li>Horizontal scalability: Tweak parallelization of computations and cluster resources to match your workload</li>
<li>Fault tolerance: If there are any errors or when nodes fail, system should handle this gracefully and keep running</li>
<li>Remove intermediate queues/message brokers
    but without them, how do we handle fault tolerance?</li>
<li>Easy to use: Focus on your computations, not infrastructure</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              8/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Example use cases</h1></header>
            
            
            <section><ul>
<li>Web crawler</li>
<li>Web analytics</li>
<li>Twitter trending topics</li>
</ul>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>So you have something concrete in mind while I discuss the parts of Storm<ul>
<li>crawler (URL spout -&gt; fetch -&gt; resolve -&gt; database)</li>
<li>analytics (clicks -&gt; URL resolution -&gt; bot filtering -&gt; hadoop, cassandra)</li>
<li>trending topics (tweet stream -&gt; tag extractor -&gt; running counts)</li>
<li>not going to cover this today, but the idea is to take a computation, implement it on storm, then let storm parallelize it, and invoke via storm-drpc</li>
</ul>
</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              9/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Storm primitives</h1></header>
            
            
            <section><ul>
<li>Streams</li>
<li>Spouts</li>
<li>Bolts</li>
<li>Topologies</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              10/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Stream</h1></header>
            
            
            <section><p><img alt="streams" src="file:///Users/jason/dev/storm-talk/slides/../images/streams.png" /></p>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>core abstraction of storm</li>
<li>unbounded sequences of tuples</li>
<li>tuples are named list of values</li>
<li>dynamically typed, use any type by providing serializer</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              11/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Spout</h1></header>
            
            
            <section><p><img alt="spouts" src="file:///Users/jason/dev/storm-talk/slides/../images/spouts.png" /></p>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>sources of streams</li>
<li>typically:<ul>
<li>read from a pubsub/kestrel/kafka queue</li>
<li>connect to a streaming API</li>
</ul>
</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              12/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Bolt</h1></header>
            
            
            <section><p><img alt="bolts" src="file:///Users/jason/dev/storm-talk/slides/../images/bolts.png" /></p>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>process any # input streams</li>
<li>produce any # output streams</li>
<li>where computation happens<ul>
<li>functions, filters, aggregations, streaming joins, talk to DBs...</li>
</ul>
</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              13/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Topology</h1></header>
            
            
            <section><p><img alt="topology" src="file:///Users/jason/dev/storm-talk/slides/../images/topology.png" /></p>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>network of spouts and bolts, connected by streams</li>
<li>describe parallelism and field groupings</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              14/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Parallelism: <em>logical view</em></h1></header>
            
            
            <section><p><img alt="parallelism" src="file:///Users/jason/dev/storm-talk/slides/../images/parallelism.png" /></p>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>4 worker nodes, 1 spout, 3 bolts.  #/tasks per.</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              15/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Parallelism: <em>physical view</em></h1></header>
            
            
            <section><p><img alt="workers" src="file:///Users/jason/dev/storm-talk/slides/../images/workers.png" /></p>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>3 worker nodes</li>
<li>multiple worker processes on each node (JVM process)</li>
<li>many tasks per process</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              16/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Stream grouping</h1></header>
            
            
            <section><p><img alt="streamgrouping" src="file:///Users/jason/dev/storm-talk/slides/../images/streamgrouping.png" /></p>
<ul>
<li>Shuffle grouping</li>
<li>Fields grouping</li>
<li>All grouping</li>
</ul>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>since spouts and bolts are parallel, when a tuple is emitted on a stream, which tasks does that tuple go to?</li>
<li>decides how to partition the stream of messages<ul>
<li>shuffle grouping: pick a random task, evenly distribute</li>
<li>fields grouping: mod hashing on a subset of tuple fields (aim for consistent recipient)</li>
<li>all grouping: send to all tasks</li>
<li>global grouping: pick task with lowest id (all tuples go to same task)</li>
</ul>
</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              17/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>RedStorm</h1></header>
            
            
            <section><p><img alt="RedStorm on github" src="file:///Users/jason/dev/storm-talk/slides/../images/redstorm-github.png" /></p>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>Write topologies and components in JRuby</li>
<li>Storm is written for the JVM in Java and Clojure</li>
<li>there are several ways to integrate across languages (namely: JVM-native, thrift for topos, json-over-stdio shelling for spouts/bolts)</li>
<li>RedStorm is a JRuby adapter library</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              18/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Example time!</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              19/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Word count topology</h1></header>
            
            
            <section><p>TODO resize image or something</p>
<p><img alt="word count topology" src="file:///Users/jason/dev/storm-talk/slides/../images/word-count-topology.png" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              20/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Data processing guarantees</h1></header>
            
            
            <section><p><img alt="tuple tree" src="file:///Users/jason/dev/storm-talk/slides/../images/tuple-tree.png" /></p>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>tuple tree<ul>
<li>rooted as a spout emits a single tuple</li>
<li>as bolts emit new tuples, they are anchored to the input tuple</li>
</ul>
</li>
<li>ack<ul>
<li>after a bolt finishes, it acks its input tuple</li>
<li>after a whole tree is acked, the root tuple is considered processed</li>
</ul>
</li>
<li>this provides at-least-once semantics</li>
<li>a topology specifies a timeout for retry TOPOLOGY_MESSAGE_TIMEOUT_SECS default 30s</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              21/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Cluster deployment</h1></header>
            
            
            <section><p><img alt="storm cluster" src="file:///Users/jason/dev/storm-talk/slides/../images/storm-cluster.png" /></p>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>local mode vs cluster mode</li>
<li>3 sets of nodes</li>
<li>Nimbus node: master node, similar to hadoop jobtracker<ul>
<li>upload computations here</li>
<li>launches and coordinates workers, &amp;</li>
<li>moves them around when worker nodes fail</li>
<li>(not HA yet, but nimbus failure doesn't affect workers, so low-pri.  HA is on roadmap.)</li>
</ul>
</li>
<li>ZooKeeper nodes:<ul>
<li>separate apache project</li>
<li>cluster coordination
TODO improve this description from wiki</li>
</ul>
</li>
<li>Supervisor nodes:<ul>
<li>talk to nimbus via ZK to decide what to run on the machine</li>
<li>start/stop worker processes as necessary, as dictated by nimbus</li>
</ul>
</li>
<li>implementation: JVM (java+clojure), 0mq, zookeeper, thrift</li>
<li>deployment: storm-deploy to automate deploment and provisioning on ec2</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              22/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Storm UI</h1></header>
            
            
            <section><p>TODO: show the screen</p>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>ete@45:15
  what topos are running on your cluster
  details statistics about each cluster
  - for every spout tuple, what's the avg latency until whole tuple tree is completed
  - for every bolt, avg processing latency
  - for every component, throughput</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              23/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>storm-deploy</h1></header>
            
            
            <section><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1"># /path/to/storm-deploy/conf/clusters.yaml</span>

<span class="l-Scalar-Plain">nimbus.image</span><span class="p-Indicator">:</span> <span class="s">&quot;us-east-1/ami-08f40561&quot;</span>      <span class="c1"># 64-bit ubuntu</span>
<span class="l-Scalar-Plain">nimbus.hardware</span><span class="p-Indicator">:</span> <span class="s">&quot;m1.large&quot;</span>

<span class="l-Scalar-Plain">supervisor.count</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2</span>
<span class="l-Scalar-Plain">supervisor.image</span><span class="p-Indicator">:</span> <span class="s">&quot;us-east-1/ami-08f40561&quot;</span>  <span class="c1"># 64-bit ubuntu</span>
<span class="l-Scalar-Plain">supervisor.hardware</span><span class="p-Indicator">:</span> <span class="s">&quot;c1.xlarge&quot;</span>
<span class="c1">#supervisor.spot.price: 1.60</span>

<span class="l-Scalar-Plain">zookeeper.count</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
<span class="l-Scalar-Plain">zookeeper.image</span><span class="p-Indicator">:</span> <span class="s">&quot;us-east-1/ami-08f40561&quot;</span>   <span class="c1"># 64-bit ubuntu</span>
<span class="l-Scalar-Plain">zookeeper.hardware</span><span class="p-Indicator">:</span> <span class="s">&quot;m1.large&quot;</span>
</pre></div>
</td></tr></table>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>1-click deploy tool for deploying clusters on AWS</li>
<li>show off running on ec2</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              24/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>storm-deploy</h1></header>
            
            
            <section><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="c"># start a cluster</span>
<span class="nv">$ </span>lein run :deploy --start --name mycluster --release 0.8.1

<span class="c"># stop a cluster</span>
<span class="nv">$ </span>lein run :deploy --stop --name mycluster
</pre></div>
</td></tr></table></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              25/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>storm-deploy</h1></header>
            
            
            <section><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">; ~/.pallet/config.clj</span>

<span class="p">(</span><span class="nf">defpallet</span>
  <span class="ss">:services</span>
  <span class="p">{</span>
   <span class="ss">:default</span> <span class="p">{</span>
       <span class="ss">:blobstore-provider</span> <span class="s">&quot;aws-s3&quot;</span>
       <span class="ss">:provider</span> <span class="s">&quot;aws-ec2&quot;</span>
       <span class="ss">:environment</span> <span class="p">{</span><span class="ss">:user</span> <span class="p">{</span><span class="ss">:username</span> <span class="s">&quot;storm&quot;</span>
                            <span class="ss">:private-key-path</span> <span class="s">&quot;~/.ec2/k.pem&quot;</span>
                            <span class="ss">:public-key-path</span> <span class="s">&quot;~/.ec2/k.pem.pub&quot;</span><span class="p">}</span>
                     <span class="ss">:aws-user-id</span> <span class="s">&quot;1234-5678-9999&quot;</span><span class="p">}</span>
       <span class="ss">:identity</span> <span class="s">&quot;AKIA1111111111111111&quot;</span>
       <span class="ss">:credential</span> <span class="s">&quot;abCDEFghijklmnpOPQRSTuvWXyz1234567890123&quot;</span>
       <span class="ss">:jclouds.regions</span> <span class="s">&quot;us-east-1&quot;</span>
       <span class="p">}</span>
    <span class="p">})</span>
</pre></div>
</td></tr></table></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              26/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Tweitgeist</h1></header>
            
            
            <section><p><a href="https://github.com/colinsurprenant/tweitgeist">https://github.com/colinsurprenant/tweitgeist</a>
<a href="http://tweitgeist.colinsurprenant.com">http://tweitgeist.colinsurprenant.com</a></p>
<p><img alt="tweitgeist" src="file:///Users/jason/dev/storm-talk/slides/../images/tweitgeist.png" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              27/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Higher-level abstractions</h1></header>
            
            
            <section><ul>
<li>DRPC: Ad-hoc computations</li>
<li>Trident: state, transactions, exactly-once semantics</li>
<li>Lambda architecture: blend streaming and batch modes</li>
</ul>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>drpc<ul>
<li>built atop storm primitives</li>
<li>design distributed computations as topologies</li>
<li>some function you want to execute on-the-fly, across a cluster</li>
<li>drpc server acts as a spout, emits function invocations</li>
</ul>
</li>
<li>trident<ul>
<li>also built atop storm primitives</li>
<li>exactly-once semantics with fault tolerance</li>
<li>stateful source/sink</li>
<li>higher-level processing abstractions</li>
<li>joins/grouping/aggregates/functions/filters
_ what's the relationship here with state and also abstractions</li>
</ul>
</li>
<li>lambda<ul>
<li>not part of storm,</li>
<li>but an approach to combining both realtime and batch in your architecture</li>
<li>discussed in 2012 strange loop talk</li>
<li>and in book "big data" http://www.manning.com/marz/</li>
</ul>
</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              28/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Questions!</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              29/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Resources: Software</h1></header>
            
            
            <section><ul>
<li><a href="https://github.com/colinsurprenant/redstorm">RedStorm</a></li>
<li><a href="http://storm-project.net/">storm</a></li>
<li><a href="https://github.com/nathanmarz/storm-contrib">storm-contrib</a></li>
<li><a href="https://github.com/nathanmarz/storm-deploy">storm-deploy</a></li>
<li><a href="https://github.com/nathanmarz/storm-mesos">storm-mesos</a></li>
<li><a href="https://github.com/nathanmarz/storm-starter">storm-starter</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              30/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Resources: Documentation</h1></header>
            
            
            <section><ul>
<li><a href="https://github.com/nathanmarz/storm/wiki">Storm wiki</a><ul>
<li>~ 40,000 words of doc</li>
</ul>
</li>
<li><a href="https://groups.google.com/group/storm-user">storm-user Google group</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              31/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Resources: Talks</h1></header>
            
            
            <section><ul>
<li>
<p><a href="http://vimeo.com/40972420">ETE 2012 Talk</a></p>
<ul>
<li>"Storm: Distributed and fault-tolerant realtime computation" - April 2012</li>
</ul>
</li>
<li>
<p><a href="http://www.infoq.com/presentations/Complexity-Big-Data">Runaway complexity in Big Data</a></p>
<ul>
<li>"Common sources of complexity in data systems and a design for a fundamentally better data system" - October 2012</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              32/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Resources: Book</h1></header>
            
            
            <section><ul>
<li><a href="http://manning.com/marz/">Big Data</a><ul>
<li>Early access book by Nathan Marz</li>
<li>"Principles and best practices of scalable realtime data systems"</li>
</ul>
</li>
</ul>
<p><img alt="big data book" src="http://manning.com/marz/marz_cover150.jpg" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              33/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Resources: Other ESP/CEP resources</h1></header>
            
            
            <section><ul>
<li><a href="http://en.wikipedia.org/wiki/Event_stream_processing">Wikipedia: Event Stream Processing</a></li>
<li><a href="http://blog.sematext.com/2011/09/26/event-stream-processor-matrix/">Event Stream Processor Matrix</a></li>
<li><a href="http://www.quora.com/Complex-Event-Processing-CEP/Are-there-any-open-source-CEP-tools">Quora: Are there any open-source CEP tools?</a></li>
<li><a href="http://www.igvita.com/2011/05/27/streamsql-event-processing-with-esper/">Ilya Grigorik's "StreamSQL: Event Processing with Esper"</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              34/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Thanks!</h1></header>
            
            
            <section><p><a href="http://github.com/jasonm/redstorm-talk">http://github.com/jasonm/redstorm-talk</a></p>
<p>...........................................
CLIP
...........................................</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              35/36
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides/slides.markdown -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Complex event processors (CEP)</h1></header>
            
            
            <section><p><em>or "Event stream processors" (ESP)</em></p>
<ul>
<li>Store queries instead of data</li>
<li>Process each event in real-time</li>
<li>Emit results when some query criteria is met</li>
</ul>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>Family of tools that work just like that</li>
<li>Varying degrees of abstraction</li>
<li>Storm is one, there are more, ... Esper, S4, Drools Fusion, FlumeBase</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides/slides.markdown">slides/slides.markdown</a>
            </aside>
            
            <aside class="page_number">
              36/36
            </aside>
          </footer>
        </div>
      </div>
      
    </div>
  </div>
  
  <div id="toc" class="sidebar hidden">
    <h2>Table of Contents</h2>
    <table>
      <caption>Table of Contents</caption>
      
      <tr id="toc-row-1">
        <th><a href="#slide1">Storm &amp; RedStorm</a></th>
        <td><a href="#slide1">1</a></td>
      </tr>
      
      
      <tr id="toc-row-2">
        <th><a href="#slide2">Data processing systems</a></th>
        <td><a href="#slide2">2</a></td>
      </tr>
      
      
      <tr id="toc-row-3">
        <th><a href="#slide3">DFS + map-reduce</a></th>
        <td><a href="#slide3">3</a></td>
      </tr>
      
      
      <tr id="toc-row-4">
        <th><a href="#slide4">Design considerations</a></th>
        <td><a href="#slide4">4</a></td>
      </tr>
      
      
      <tr id="toc-row-5">
        <th><a href="#slide5">Queues &amp; workers</a></th>
        <td><a href="#slide5">5</a></td>
      </tr>
      
      
      <tr id="toc-row-6">
        <th><a href="#slide6">Storm</a></th>
        <td><a href="#slide6">6</a></td>
      </tr>
      
      
      <tr id="toc-row-7">
        <th><a href="#slide7">Storm</a></th>
        <td><a href="#slide7">7</a></td>
      </tr>
      
      
      <tr id="toc-row-8">
        <th><a href="#slide8">Design goals of Storm:</a></th>
        <td><a href="#slide8">8</a></td>
      </tr>
      
      
      <tr id="toc-row-9">
        <th><a href="#slide9">Example use cases</a></th>
        <td><a href="#slide9">9</a></td>
      </tr>
      
      
      <tr id="toc-row-10">
        <th><a href="#slide10">Storm primitives</a></th>
        <td><a href="#slide10">10</a></td>
      </tr>
      
      
      <tr id="toc-row-11">
        <th><a href="#slide11">Stream</a></th>
        <td><a href="#slide11">11</a></td>
      </tr>
      
      
      <tr id="toc-row-12">
        <th><a href="#slide12">Spout</a></th>
        <td><a href="#slide12">12</a></td>
      </tr>
      
      
      <tr id="toc-row-13">
        <th><a href="#slide13">Bolt</a></th>
        <td><a href="#slide13">13</a></td>
      </tr>
      
      
      <tr id="toc-row-14">
        <th><a href="#slide14">Topology</a></th>
        <td><a href="#slide14">14</a></td>
      </tr>
      
      
      <tr id="toc-row-15">
        <th><a href="#slide15">Parallelism: <em>logical view</em></a></th>
        <td><a href="#slide15">15</a></td>
      </tr>
      
      
      <tr id="toc-row-16">
        <th><a href="#slide16">Parallelism: <em>physical view</em></a></th>
        <td><a href="#slide16">16</a></td>
      </tr>
      
      
      <tr id="toc-row-17">
        <th><a href="#slide17">Stream grouping</a></th>
        <td><a href="#slide17">17</a></td>
      </tr>
      
      
      <tr id="toc-row-18">
        <th><a href="#slide18">RedStorm</a></th>
        <td><a href="#slide18">18</a></td>
      </tr>
      
      
      <tr id="toc-row-19">
        <th><a href="#slide19">Example time!</a></th>
        <td><a href="#slide19">19</a></td>
      </tr>
      
      
      <tr id="toc-row-20">
        <th><a href="#slide20">Word count topology</a></th>
        <td><a href="#slide20">20</a></td>
      </tr>
      
      
      <tr id="toc-row-21">
        <th><a href="#slide21">Data processing guarantees</a></th>
        <td><a href="#slide21">21</a></td>
      </tr>
      
      
      <tr id="toc-row-22">
        <th><a href="#slide22">Cluster deployment</a></th>
        <td><a href="#slide22">22</a></td>
      </tr>
      
      
      <tr id="toc-row-23">
        <th><a href="#slide23">Storm UI</a></th>
        <td><a href="#slide23">23</a></td>
      </tr>
      
      
      <tr id="toc-row-24">
        <th><a href="#slide24">storm-deploy</a></th>
        <td><a href="#slide24">24</a></td>
      </tr>
      
      
      <tr id="toc-row-25">
        <th><a href="#slide25">storm-deploy</a></th>
        <td><a href="#slide25">25</a></td>
      </tr>
      
      
      <tr id="toc-row-26">
        <th><a href="#slide26">storm-deploy</a></th>
        <td><a href="#slide26">26</a></td>
      </tr>
      
      
      <tr id="toc-row-27">
        <th><a href="#slide27">Tweitgeist</a></th>
        <td><a href="#slide27">27</a></td>
      </tr>
      
      
      <tr id="toc-row-28">
        <th><a href="#slide28">Higher-level abstractions</a></th>
        <td><a href="#slide28">28</a></td>
      </tr>
      
      
      <tr id="toc-row-29">
        <th><a href="#slide29">Questions!</a></th>
        <td><a href="#slide29">29</a></td>
      </tr>
      
      
      <tr id="toc-row-30">
        <th><a href="#slide30">Resources: Software</a></th>
        <td><a href="#slide30">30</a></td>
      </tr>
      
      
      <tr id="toc-row-31">
        <th><a href="#slide31">Resources: Documentation</a></th>
        <td><a href="#slide31">31</a></td>
      </tr>
      
      
      <tr id="toc-row-32">
        <th><a href="#slide32">Resources: Talks</a></th>
        <td><a href="#slide32">32</a></td>
      </tr>
      
      
      <tr id="toc-row-33">
        <th><a href="#slide33">Resources: Book</a></th>
        <td><a href="#slide33">33</a></td>
      </tr>
      
      
      <tr id="toc-row-34">
        <th><a href="#slide34">Resources: Other ESP/CEP resources</a></th>
        <td><a href="#slide34">34</a></td>
      </tr>
      
      
      <tr id="toc-row-35">
        <th><a href="#slide35">Thanks!</a></th>
        <td><a href="#slide35">35</a></td>
      </tr>
      
      
      <tr id="toc-row-36">
        <th><a href="#slide36">Complex event processors (CEP)</a></th>
        <td><a href="#slide36">36</a></td>
      </tr>
      
      
    </table>
  </div>
  
  <div id="help" class="sidebar hidden">
    <h2>Help</h2>
    <table>
      <caption>Help</caption>
      <tr>
        <th>Table of Contents</th>
        <td>t</td>
      </tr>
      <tr>
        <th>Exposé</th>
        <td>ESC</td>
      </tr>
      <tr>
        <th>Full screen slides</th>
        <td>e</td>
      </tr>
      <tr>
        <th>Presenter View</th>
        <td>p</td>
      </tr>
      <tr>
        <th>Source Files</th>
        <td>s</td>
      </tr>
      <tr>
        <th>Slide Numbers</th>
        <td>n</td>
      </tr>
      <tr>
        <th>Toggle screen blanking</th>
        <td>b</td>
      </tr>
      <tr>
        <th>Show/hide slide context</th>
        <td>c</td>
      </tr>
      <tr>
        <th>Notes</th>
        <td>2</td>
      </tr>
      <tr>
        <th>Help</th>
        <td>h</td>
      </tr>
    </table>
  </div>
  <script>main()</script>
</body>
</html>